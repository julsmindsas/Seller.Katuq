<div class="survey-container">
  <!-- Logo similar al de Diagnostic Survey -->
  <img class="survey-logo" src="assets/images/logo/Katuq/katuq_dark.svg" alt="Katuq Logo">
  <div class="survey-form animate-fancy">
    <h1>{{'Recuerda actualizar la contraseña' | translate}}</h1>
    <form [formGroup]="passwordForm" (ngSubmit)="submit()">
      <div>
        <label>{{'Nueva Contraseña' | translate}}</label>
        <input type="password" formControlName="newPassword" placeholder="{{'Nueva contraseña' | translate}}" class="material-input">
        <div *ngIf="passwordForm.get('newPassword')?.touched && passwordForm.get('newPassword')?.invalid">
          {{'La contraseña es requerida y debe tener al menos 8 caracteres, incluyendo mayúsculas, minúsculas, números y un carácter especial.' | translate}}
        </div>
      </div>
      <div>
        <label>{{'Confirmar Contraseña' | translate}}</label>
        <input type="password" formControlName="confirmPassword" placeholder="{{'Confirmar contraseña' | translate}}" class="material-input">
        <div *ngIf="passwordForm.errors?.mismatch && passwordForm.get('confirmPassword')?.touched">
          {{'Las contraseñas no coinciden.' | translate}}
        </div>
      </div>
      <!-- Si aún no se ha confirmado, mostrar el botón de submit -->
      <button *ngIf="!confirmVisible" type="submit" [disabled]="passwordForm.invalid" class="next-button">
        {{'Actualizar Contraseña' | translate}}
      </button>
    </form>
    <!-- Confirmación inline -->
    <div *ngIf="confirmVisible" class="confirmation-box">
      <p>{{'¿Estás seguro de que deseas actualizar tu contraseña?' | translate}}</p>
      <button (click)="confirmUpdate()" class="next-button">{{'Sí, actualizar' | translate}}</button>
      <button (click)="cancelUpdate()" class="back-button">{{'Cancelar' | translate}}</button>
    </div>
  </div>
</div>
