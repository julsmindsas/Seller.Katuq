<div class="">
  <h2>Gestión de Roles</h2>
  <form [formGroup]="roleForm" (ngSubmit)="saveRole()">
    <div class="form-group">
      <label for="rol">Nombre del Rol</label>
      <input type="text" autocomplete="off" id="rol" formControlName="rol" class="form-control" />
    </div>
    <div *ngIf="isJulsmind" class="form-group">
      <label for="empresa">Empresa</label>
      <select id="empresa" formControlName="empresa" class="form-control">
        <option *ngFor="let empresa of empresas" [value]="empresa.nomComercial">{{ empresa.nomComercial }}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="menus">Menús</label>
      <p-pickList [source]="availableMenus" [target]="selectedMenus" sourceHeader="Menús disponibles"
        targetHeader="Menús seleccionados" [dragdrop]="false" [responsive]="true" [sourceStyle]="{'height':'20rem'}"
        [targetStyle]="{'height':'20rem'}" sourceFilterPlaceholder="Buscar por título" filterBy="title"
        targetFilterPlaceholder="Buscar por título" (onMoveToTarget)="onMenuChange($event,'target')"
        (onMoveToSource)="onMenuChange($event,'source')" [showSourceControls]="false" [showTargetControls]="false">
        <ng-template let-menu pTemplate="item">
          <div *ngIf="!menu.children">
            <label style="margin-left: 20px;">{{ menu.title }}</label>
          </div>
          <div *ngIf="menu.children">
            <strong>{{ menu.title }}</strong>
            <div *ngFor="let child of menu.children" style="margin-left: 20px;">
              {{ child.title }}
            </div>
          </div>
        </ng-template>
      </p-pickList>
    </div>

    <button type="submit" class="btn btn-primary">Guardar Rol</button>
  </form>
  <hr />
</div>